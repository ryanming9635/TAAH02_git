ARM GAS  /tmp/ccCGEGdj.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"Printf.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text.DoPrint,"ax",%progbits
  19              		.align	2
  20              		.global	DoPrint
  21              		.thumb
  22              		.thumb_func
  24              	DoPrint:
  25              	.LFB0:
  26              		.file 1 "VS4210/Printf.c"
   1:VS4210/Printf.c **** /*****************************************************************************/
   2:VS4210/Printf.c **** /*                                                                           										*/
   3:VS4210/Printf.c **** /*  TELI ML070I   MCU                    													*/
   4:VS4210/Printf.c **** /*                                                                           										*/
   5:VS4210/Printf.c **** /*  Printf.c		                                            										*/
   6:VS4210/Printf.c **** /*                                                                           										*/
   7:VS4210/Printf.c **** /*****************************************************************************/
   8:VS4210/Printf.c **** 
   9:VS4210/Printf.c **** #include "VXIS_Extern_Define.h"
  10:VS4210/Printf.c **** 
  11:VS4210/Printf.c **** #include "tpinc/Device_Rx.h"
  12:VS4210/Printf.c **** #include "tpinc/TP2802.h"
  13:VS4210/Printf.c **** #include "stdlib.h"
  14:VS4210/Printf.c **** #include "VX_swi2c.h"
  15:VS4210/Printf.c **** #include "VS4210.h"
  16:VS4210/Printf.c **** 
  17:VS4210/Printf.c **** //#include "Config.h"
  18:VS4210/Printf.c **** 
  19:VS4210/Printf.c **** //#ifdef SERIAL
  20:VS4210/Printf.c **** 
  21:VS4210/Printf.c **** //#include "reg.h"
  22:VS4210/Printf.c **** //#include "Typedefs.h"
  23:VS4210/Printf.c **** //#include "debug.h"
  24:VS4210/Printf.c **** //#include "main.h"
  25:VS4210/Printf.c **** #include "printf.h"
  26:VS4210/Printf.c **** #include "monitor.h"
  27:VS4210/Printf.c **** 
  28:VS4210/Printf.c **** #include <stdarg.h>
  29:VS4210/Printf.c **** 
  30:VS4210/Printf.c **** 
  31:VS4210/Printf.c **** static const char *_PrintColor[] = {
  32:VS4210/Printf.c **** "\033[0m",
ARM GAS  /tmp/ccCGEGdj.s 			page 2


  33:VS4210/Printf.c **** "\033[0;31m",
  34:VS4210/Printf.c **** "\033[0;32m",
  35:VS4210/Printf.c **** "\033[0;33m",
  36:VS4210/Printf.c **** "\033[0;34m",
  37:VS4210/Printf.c **** "\033[0;35m",
  38:VS4210/Printf.c **** "\033[0;36m",
  39:VS4210/Printf.c **** "\033[0;37m",
  40:VS4210/Printf.c **** };
  41:VS4210/Printf.c **** 
  42:VS4210/Printf.c **** CODE tByte Hex[] = "0123456789ABCDEF";
  43:VS4210/Printf.c **** extern	bit     	RS_Xbusy;			// bit RS_Xbusy=0;
  44:VS4210/Printf.c **** extern	tByte	DebugLevel;
  45:VS4210/Printf.c **** extern BYTE Monitor_flag;
  46:VS4210/Printf.c **** 
  47:VS4210/Printf.c **** 
  48:VS4210/Printf.c **** void DoPrint( const char CODE_P *fmt, va_list ap )
  49:VS4210/Printf.c **** {
  27              		.loc 1 49 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              	.LVL0:
  32 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 32
  35              		.cfi_offset 3, -32
  36              		.cfi_offset 4, -28
  37              		.cfi_offset 5, -24
  38              		.cfi_offset 6, -20
  39              		.cfi_offset 7, -16
  40              		.cfi_offset 8, -12
  41              		.cfi_offset 9, -8
  42              		.cfi_offset 14, -4
  43 0004 0746     		mov	r7, r0
  44 0006 8846     		mov	r8, r1
  45              	.LVL1:
  50:VS4210/Printf.c **** 	char  ch;
  51:VS4210/Printf.c **** 	char  i;
  52:VS4210/Printf.c **** 	long  value=_FALSE;
  46              		.loc 1 52 0
  47 0008 0024     		movs	r4, #0
  48              	.LVL2:
  49              	.L2:
  53:VS4210/Printf.c **** 	bit   fl_zero;
  54:VS4210/Printf.c **** //	bit   fl_num;
  55:VS4210/Printf.c **** 	BYTE  fl_len;
  56:VS4210/Printf.c **** 	BYTE  cnt;
  57:VS4210/Printf.c **** 	DWORD mask=1;
  58:VS4210/Printf.c **** 
  59:VS4210/Printf.c **** 	#ifdef KEILC
  60:VS4210/Printf.c **** 	char *ptr;
  61:VS4210/Printf.c **** 	#endif
  62:VS4210/Printf.c **** 
  63:VS4210/Printf.c **** 	while(1) {
  64:VS4210/Printf.c **** 		
  65:VS4210/Printf.c **** 		//----- Find Formatter % -----
  66:VS4210/Printf.c **** 
ARM GAS  /tmp/ccCGEGdj.s 			page 3


  67:VS4210/Printf.c **** 		switch( ch = *fmt++ ) {
  50              		.loc 1 67 0
  51 000a 7D1C     		adds	r5, r7, #1
  52              	.LVL3:
  53 000c 3878     		ldrb	r0, [r7]	@ zero_extendqisi2
  54              	.LVL4:
  55 000e 0028     		cmp	r0, #0
  56 0010 00F0FC80 		beq	.L1
  57 0014 2528     		cmp	r0, #37
  58 0016 03D1     		bne	.L3
  68:VS4210/Printf.c **** 			case 0:		return;
  69:VS4210/Printf.c **** 			case '%':	if( *fmt != '%' ) break;
  59              		.loc 1 69 0
  60 0018 7B78     		ldrb	r3, [r7, #1]	@ zero_extendqisi2
  61 001a 252B     		cmp	r3, #37
  62 001c 04D1     		bne	.L6
  70:VS4210/Printf.c **** 						fmt++;
  63              		.loc 1 70 0
  64 001e BD1C     		adds	r5, r7, #2
  65              	.LVL5:
  66              	.L3:
  71:VS4210/Printf.c **** 			default:	_outchar( ch );
  67              		.loc 1 71 0
  68 0020 FFF7FEFF 		bl	RS_tx
  69              	.LVL6:
  72:VS4210/Printf.c **** 						continue;
  70              		.loc 1 72 0
  71 0024 2F46     		mov	r7, r5
  72 0026 F0E7     		b	.L2
  73              	.LVL7:
  74              	.L6:
  73:VS4210/Printf.c **** 		}
  74:VS4210/Printf.c **** 
  75:VS4210/Printf.c **** 		//----- Get Count -------------
  76:VS4210/Printf.c **** 		
  77:VS4210/Printf.c **** 		fl_zero = 0;
  78:VS4210/Printf.c **** 		//fl_num = 0;
  79:VS4210/Printf.c **** 		cnt = 0;
  80:VS4210/Printf.c **** 
  81:VS4210/Printf.c **** 		ch = *fmt++;
  75              		.loc 1 81 0
  76 0028 BA1C     		adds	r2, r7, #2
  77              	.LVL8:
  82:VS4210/Printf.c **** 
  83:VS4210/Printf.c **** 		if( ch=='0' ) {
  78              		.loc 1 83 0
  79 002a 302B     		cmp	r3, #48
  80 002c 07D1     		bne	.L8
  81              	.LVL9:
  84:VS4210/Printf.c **** 			fl_zero = 1;
  85:VS4210/Printf.c **** 			ch = *fmt++;
  82              		.loc 1 85 0
  83 002e BD78     		ldrb	r5, [r7, #2]	@ zero_extendqisi2
  84              	.LVL10:
  86:VS4210/Printf.c **** 			cnt = ch - '0';
  85              		.loc 1 86 0
  86 0030 303D     		subs	r5, r5, #48
ARM GAS  /tmp/ccCGEGdj.s 			page 4


  87              	.LVL11:
  88 0032 EDB2     		uxtb	r5, r5
  89              	.LVL12:
  87:VS4210/Printf.c **** 			ch = *fmt++;
  90              		.loc 1 87 0
  91 0034 3A1D     		adds	r2, r7, #4
  92              	.LVL13:
  93 0036 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
  94              	.LVL14:
  84:VS4210/Printf.c **** 			fl_zero = 1;
  95              		.loc 1 84 0
  96 0038 4FF00109 		mov	r9, #1
  97 003c 0BE0     		b	.L9
  98              	.LVL15:
  99              	.L8:
  88:VS4210/Printf.c **** 		}
  89:VS4210/Printf.c **** 		else if( ch>='0' && ch<='9' ) {
 100              		.loc 1 89 0
 101 003e A3F13005 		sub	r5, r3, #48
 102 0042 EDB2     		uxtb	r5, r5
 103 0044 092D     		cmp	r5, #9
 104 0046 04D8     		bhi	.L44
 105              	.LVL16:
  90:VS4210/Printf.c **** 			cnt = ch - '0';
  91:VS4210/Printf.c **** 			ch = *fmt++;
 106              		.loc 1 91 0
 107 0048 FA1C     		adds	r2, r7, #3
 108              	.LVL17:
 109 004a BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 110              	.LVL18:
  77:VS4210/Printf.c **** 		//fl_num = 0;
 111              		.loc 1 77 0
 112 004c 4FF00009 		mov	r9, #0
 113 0050 01E0     		b	.L9
 114              	.LVL19:
 115              	.L44:
  79:VS4210/Printf.c **** 
 116              		.loc 1 79 0
 117 0052 0025     		movs	r5, #0
  77:VS4210/Printf.c **** 		//fl_num = 0;
 118              		.loc 1 77 0
 119 0054 A946     		mov	r9, r5
 120              	.LVL20:
 121              	.L9:
  92:VS4210/Printf.c **** 		}
  93:VS4210/Printf.c **** 
  94:VS4210/Printf.c **** 		//----- Get char(B) / int / long(L) ----------------
  95:VS4210/Printf.c **** 
  96:VS4210/Printf.c **** 		fl_len = 2;
  97:VS4210/Printf.c **** 
  98:VS4210/Printf.c **** 		switch(ch) {
 122              		.loc 1 98 0
 123 0056 4C2B     		cmp	r3, #76
 124 0058 07D0     		beq	.L11
 125 005a 02D8     		bhi	.L12
 126 005c 422B     		cmp	r3, #66
 127 005e 08D0     		beq	.L13
ARM GAS  /tmp/ccCGEGdj.s 			page 5


 128 0060 0BE0     		b	.L45
 129              	.L12:
 130 0062 622B     		cmp	r3, #98
 131 0064 05D0     		beq	.L13
 132 0066 6C2B     		cmp	r3, #108
 133 0068 07D1     		bne	.L45
 134              	.L11:
  99:VS4210/Printf.c **** 		case 'l':
 100:VS4210/Printf.c **** 		case 'L':	ch = *fmt++;	fl_len = 4;		break;
 135              		.loc 1 100 0
 136 006a 571C     		adds	r7, r2, #1
 137              	.LVL21:
 138 006c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 139              	.LVL22:
 140 006e 0421     		movs	r1, #4
 141              	.LVL23:
 142 0070 05E0     		b	.L10
 143              	.LVL24:
 144              	.L13:
 101:VS4210/Printf.c **** 		case 'b':
 102:VS4210/Printf.c **** 		case 'B':	ch = *fmt++;	fl_len = 1;		break;
 145              		.loc 1 102 0
 146 0072 571C     		adds	r7, r2, #1
 147              	.LVL25:
 148 0074 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 149              	.LVL26:
 150 0076 0121     		movs	r1, #1
 151              	.LVL27:
 152 0078 01E0     		b	.L10
 153              	.LVL28:
 154              	.L45:
  98:VS4210/Printf.c **** 		case 'l':
 155              		.loc 1 98 0
 156 007a 1746     		mov	r7, r2
  96:VS4210/Printf.c **** 
 157              		.loc 1 96 0
 158 007c 0221     		movs	r1, #2
 159              	.LVL29:
 160              	.L10:
 103:VS4210/Printf.c **** 		}		
 104:VS4210/Printf.c **** 
 105:VS4210/Printf.c **** 		//----- Get Type Discriptor -----
 106:VS4210/Printf.c **** 		
 107:VS4210/Printf.c **** 		switch( ch ) {
 161              		.loc 1 107 0
 162 007e A3F15802 		sub	r2, r3, #88
 163 0082 202A     		cmp	r2, #32
 164 0084 00F2BD80 		bhi	.L14
 165 0088 DFE802F0 		tbb	[pc, r2]
 166              	.L16:
 167 008c 7F       		.byte	(.L15-.L16)/2
 168 008d BB       		.byte	(.L14-.L16)/2
 169 008e BB       		.byte	(.L14-.L16)/2
 170 008f BB       		.byte	(.L14-.L16)/2
 171 0090 BB       		.byte	(.L14-.L16)/2
 172 0091 BB       		.byte	(.L14-.L16)/2
 173 0092 BB       		.byte	(.L14-.L16)/2
ARM GAS  /tmp/ccCGEGdj.s 			page 6


 174 0093 BB       		.byte	(.L14-.L16)/2
 175 0094 BB       		.byte	(.L14-.L16)/2
 176 0095 BB       		.byte	(.L14-.L16)/2
 177 0096 BB       		.byte	(.L14-.L16)/2
 178 0097 B3       		.byte	(.L17-.L16)/2
 179 0098 11       		.byte	(.L18-.L16)/2
 180 0099 BB       		.byte	(.L14-.L16)/2
 181 009a BB       		.byte	(.L14-.L16)/2
 182 009b BB       		.byte	(.L14-.L16)/2
 183 009c BB       		.byte	(.L14-.L16)/2
 184 009d BB       		.byte	(.L14-.L16)/2
 185 009e BB       		.byte	(.L14-.L16)/2
 186 009f BB       		.byte	(.L14-.L16)/2
 187 00a0 BB       		.byte	(.L14-.L16)/2
 188 00a1 BB       		.byte	(.L14-.L16)/2
 189 00a2 BB       		.byte	(.L14-.L16)/2
 190 00a3 BB       		.byte	(.L14-.L16)/2
 191 00a4 BB       		.byte	(.L14-.L16)/2
 192 00a5 BB       		.byte	(.L14-.L16)/2
 193 00a6 BB       		.byte	(.L14-.L16)/2
 194 00a7 A7       		.byte	(.L19-.L16)/2
 195 00a8 BB       		.byte	(.L14-.L16)/2
 196 00a9 11       		.byte	(.L18-.L16)/2
 197 00aa BB       		.byte	(.L14-.L16)/2
 198 00ab BB       		.byte	(.L14-.L16)/2
 199 00ac 7F       		.byte	(.L15-.L16)/2
 200 00ad 00       		.p2align 1
 201              	.L18:
 108:VS4210/Printf.c **** 
 109:VS4210/Printf.c **** 			case 'd':
 110:VS4210/Printf.c **** 			case 'u':
 111:VS4210/Printf.c **** 
 112:VS4210/Printf.c **** 				switch (fl_len) {
 202              		.loc 1 112 0
 203 00ae 0229     		cmp	r1, #2
 204 00b0 0FD0     		beq	.L21
 205 00b2 0429     		cmp	r1, #4
 206 00b4 19D0     		beq	.L22
 207 00b6 0129     		cmp	r1, #1
 208 00b8 22D1     		bne	.L20
 113:VS4210/Printf.c **** 				case 1:
 114:VS4210/Printf.c **** 					#if 1//ryan@20200511
 115:VS4210/Printf.c **** 					if( ch=='d' ) value = (int)va_arg( ap, int );
 209              		.loc 1 115 0
 210 00ba 642B     		cmp	r3, #100
 211 00bc 04D1     		bne	.L24
 212              		.loc 1 115 0 is_stmt 0 discriminator 1
 213 00be D8F80040 		ldr	r4, [r8]
 214              	.LVL30:
 215 00c2 08F10408 		add	r8, r8, #4
 216              	.LVL31:
 217 00c6 1BE0     		b	.L20
 218              	.L24:
 116:VS4210/Printf.c **** 					else          value = (int)va_arg( ap, int );
 219              		.loc 1 116 0 is_stmt 1
 220 00c8 D8F80040 		ldr	r4, [r8]
 221              	.LVL32:
ARM GAS  /tmp/ccCGEGdj.s 			page 7


 222 00cc 08F10408 		add	r8, r8, #4
 223              	.LVL33:
 224 00d0 16E0     		b	.L20
 225              	.L21:
 117:VS4210/Printf.c **** 
 118:VS4210/Printf.c **** 					#else
 119:VS4210/Printf.c **** 					if( ch=='d' ) value = (char)va_arg( ap, char );
 120:VS4210/Printf.c **** 					else          value = (BYTE)va_arg( ap, BYTE );
 121:VS4210/Printf.c **** 					#endif
 122:VS4210/Printf.c **** 					break;
 123:VS4210/Printf.c **** 				
 124:VS4210/Printf.c **** 				case 2:
 125:VS4210/Printf.c **** 					if( ch=='d' ) value = (int)va_arg( ap,  int );
 226              		.loc 1 125 0
 227 00d2 642B     		cmp	r3, #100
 228 00d4 04D1     		bne	.L25
 229              		.loc 1 125 0 is_stmt 0 discriminator 1
 230 00d6 D8F80040 		ldr	r4, [r8]
 231              	.LVL34:
 232 00da 08F10408 		add	r8, r8, #4
 233              	.LVL35:
 234 00de 0FE0     		b	.L20
 235              	.L25:
 126:VS4210/Printf.c **** 					else          value = (WORD)va_arg( ap, WORD );
 236              		.loc 1 126 0 is_stmt 1
 237 00e0 D8F80040 		ldr	r4, [r8]
 238              	.LVL36:
 239 00e4 08F10408 		add	r8, r8, #4
 240              	.LVL37:
 241 00e8 0AE0     		b	.L20
 242              	.L22:
 127:VS4210/Printf.c **** 					break;
 128:VS4210/Printf.c **** 
 129:VS4210/Printf.c **** 				case 4:
 130:VS4210/Printf.c **** 					if( ch=='d' ) value = (long)va_arg( ap, long );
 243              		.loc 1 130 0
 244 00ea 642B     		cmp	r3, #100
 245 00ec 04D1     		bne	.L26
 246              		.loc 1 130 0 is_stmt 0 discriminator 1
 247 00ee D8F80040 		ldr	r4, [r8]
 248              	.LVL38:
 249 00f2 08F10408 		add	r8, r8, #4
 250              	.LVL39:
 251 00f6 03E0     		b	.L20
 252              	.L26:
 131:VS4210/Printf.c **** 					else          value = (DWORD)va_arg( ap, DWORD );
 253              		.loc 1 131 0 is_stmt 1
 254 00f8 D8F80040 		ldr	r4, [r8]
 255              	.LVL40:
 256 00fc 08F10408 		add	r8, r8, #4
 257              	.LVL41:
 258              	.L20:
 132:VS4210/Printf.c **** 					break;
 133:VS4210/Printf.c **** 				}
 134:VS4210/Printf.c **** 
 135:VS4210/Printf.c **** 				if( value<0 ) {
 259              		.loc 1 135 0
ARM GAS  /tmp/ccCGEGdj.s 			page 8


 260 0100 002C     		cmp	r4, #0
 261 0102 03DA     		bge	.L27
 136:VS4210/Printf.c **** 					_outchar('-');
 262              		.loc 1 136 0
 263 0104 2D20     		movs	r0, #45
 264 0106 FFF7FEFF 		bl	RS_tx
 265              	.LVL42:
 137:VS4210/Printf.c **** 					value = value*(-1);
 266              		.loc 1 137 0
 267 010a 6442     		negs	r4, r4
 268              	.LVL43:
 269              	.L27:
 138:VS4210/Printf.c **** 				}
 139:VS4210/Printf.c **** 
 140:VS4210/Printf.c **** 				if(cnt==0) {
 270              		.loc 1 140 0
 271 010c 85B9     		cbnz	r5, .L28
 141:VS4210/Printf.c **** 					if( value==0 ) { _outchar('0'); continue; }
 272              		.loc 1 141 0
 273 010e 64B9     		cbnz	r4, .L46
 274              		.loc 1 141 0 is_stmt 0 discriminator 1
 275 0110 3020     		movs	r0, #48
 276 0112 FFF7FEFF 		bl	RS_tx
 277              	.LVL44:
 278 0116 78E7     		b	.L2
 279              	.LVL45:
 280              	.L30:
 142:VS4210/Printf.c **** 
 143:VS4210/Printf.c **** 					for(cnt=0, mask=1; cnt<10; cnt++) {
 144:VS4210/Printf.c **** 						if( (value/mask)==0 ) break;
 281              		.loc 1 144 0 is_stmt 1
 282 0118 B4FBF3F2 		udiv	r2, r4, r3
 283 011c 42B1     		cbz	r2, .L28
 145:VS4210/Printf.c **** 						mask = mask*10;
 284              		.loc 1 145 0 discriminator 2
 285 011e 03EB8303 		add	r3, r3, r3, lsl #2
 286              	.LVL46:
 287 0122 5B00     		lsls	r3, r3, #1
 288              	.LVL47:
 143:VS4210/Printf.c **** 						if( (value/mask)==0 ) break;
 289              		.loc 1 143 0 discriminator 2
 290 0124 0135     		adds	r5, r5, #1
 291              	.LVL48:
 292 0126 EDB2     		uxtb	r5, r5
 293              	.LVL49:
 294 0128 00E0     		b	.L29
 295              	.LVL50:
 296              	.L46:
 297 012a 0123     		movs	r3, #1
 298              	.L29:
 299              	.LVL51:
 143:VS4210/Printf.c **** 						if( (value/mask)==0 ) break;
 300              		.loc 1 143 0 is_stmt 0 discriminator 1
 301 012c 092D     		cmp	r5, #9
 302 012e F3D9     		bls	.L30
 303              	.LVL52:
 304              	.L28:
ARM GAS  /tmp/ccCGEGdj.s 			page 9


 146:VS4210/Printf.c **** 					}
 147:VS4210/Printf.c **** 				}
 148:VS4210/Printf.c **** 
 149:VS4210/Printf.c **** 				for(i=0, mask=1; i<cnt-1; i++) mask = mask*10;
 305              		.loc 1 149 0 is_stmt 1
 306 0130 0126     		movs	r6, #1
 307 0132 0023     		movs	r3, #0
 308 0134 04E0     		b	.L31
 309              	.LVL53:
 310              	.L32:
 311              		.loc 1 149 0 is_stmt 0 discriminator 3
 312 0136 06EB8606 		add	r6, r6, r6, lsl #2
 313              	.LVL54:
 314 013a 7600     		lsls	r6, r6, #1
 315              	.LVL55:
 316 013c 0133     		adds	r3, r3, #1
 317              	.LVL56:
 318 013e DBB2     		uxtb	r3, r3
 319              	.LVL57:
 320              	.L31:
 321              		.loc 1 149 0 discriminator 1
 322 0140 6A1E     		subs	r2, r5, #1
 323 0142 9342     		cmp	r3, r2
 324 0144 F7DB     		blt	.L32
 325              	.LVL58:
 326              	.L34:
 150:VS4210/Printf.c **** 
 151:VS4210/Printf.c **** 				while(1) {
 152:VS4210/Printf.c **** 					ch = (value / mask) + '0';
 327              		.loc 1 152 0 is_stmt 1
 328 0146 2546     		mov	r5, r4
 329 0148 B4FBF6F0 		udiv	r0, r4, r6
 330 014c 3030     		adds	r0, r0, #48
 331 014e C0B2     		uxtb	r0, r0
 332              	.LVL59:
 153:VS4210/Printf.c **** 					if( ch=='0' && fl_zero==0 && mask!=1 ) ch=' ';
 333              		.loc 1 153 0
 334 0150 3028     		cmp	r0, #48
 335 0152 07D1     		bne	.L47
 336              		.loc 1 153 0 is_stmt 0 discriminator 1
 337 0154 B9F1000F 		cmp	r9, #0
 338 0158 07D1     		bne	.L48
 339              		.loc 1 153 0 discriminator 2
 340 015a 012E     		cmp	r6, #1
 341 015c 08D1     		bne	.L49
 154:VS4210/Printf.c **** 					else fl_zero = 1;
 342              		.loc 1 154 0 is_stmt 1
 343 015e 4FF00109 		mov	r9, #1
 344              	.LVL60:
 345 0162 06E0     		b	.L33
 346              	.LVL61:
 347              	.L47:
 348 0164 4FF00109 		mov	r9, #1
 349              	.LVL62:
 350 0168 03E0     		b	.L33
 351              	.LVL63:
 352              	.L48:
ARM GAS  /tmp/ccCGEGdj.s 			page 10


 353 016a 4FF00109 		mov	r9, #1
 354              	.LVL64:
 355 016e 00E0     		b	.L33
 356              	.LVL65:
 357              	.L49:
 153:VS4210/Printf.c **** 					if( ch=='0' && fl_zero==0 && mask!=1 ) ch=' ';
 358              		.loc 1 153 0
 359 0170 2020     		movs	r0, #32
 360              	.LVL66:
 361              	.L33:
 155:VS4210/Printf.c **** 					_outchar(ch);
 362              		.loc 1 155 0
 363 0172 FFF7FEFF 		bl	RS_tx
 364              	.LVL67:
 156:VS4210/Printf.c **** 
 157:VS4210/Printf.c **** 					value = value % (mask);
 365              		.loc 1 157 0
 366 0176 B5FBF6F4 		udiv	r4, r5, r6
 367              	.LVL68:
 368 017a 06FB1454 		mls	r4, r6, r4, r5
 369              	.LVL69:
 158:VS4210/Printf.c **** 					mask = mask / 10;
 370              		.loc 1 158 0
 371 017e 244B     		ldr	r3, .L51
 372 0180 A3FB0636 		umull	r3, r6, r3, r6
 373              	.LVL70:
 159:VS4210/Printf.c **** 					
 160:VS4210/Printf.c **** 					if( mask==0 )
 374              		.loc 1 160 0
 375 0184 F608     		lsrs	r6, r6, #3
 376              	.LVL71:
 377 0186 DED1     		bne	.L34
 378 0188 3FE7     		b	.L2
 379              	.LVL72:
 380              	.L15:
 161:VS4210/Printf.c **** 						break;
 162:VS4210/Printf.c **** 				}
 163:VS4210/Printf.c **** 				continue;
 164:VS4210/Printf.c **** 
 165:VS4210/Printf.c **** 			case 'x':
 166:VS4210/Printf.c **** 			case 'X':
 167:VS4210/Printf.c **** 
 168:VS4210/Printf.c **** 				switch (fl_len) {
 381              		.loc 1 168 0
 382 018a 0229     		cmp	r1, #2
 383 018c 08D0     		beq	.L36
 384 018e 0429     		cmp	r1, #4
 385 0190 0BD0     		beq	.L37
 386 0192 0129     		cmp	r1, #1
 387 0194 0DD1     		bne	.L35
 169:VS4210/Printf.c **** 					#if 1//ryan@20200511
 170:VS4210/Printf.c **** 					case 1: value = (int)va_arg( ap, int);		break;
 388              		.loc 1 170 0
 389 0196 D8F80040 		ldr	r4, [r8]
 390              	.LVL73:
 391 019a 08F10408 		add	r8, r8, #4
 392              	.LVL74:
ARM GAS  /tmp/ccCGEGdj.s 			page 11


 393 019e 08E0     		b	.L35
 394              	.L36:
 171:VS4210/Printf.c **** 					#else
 172:VS4210/Printf.c **** 				case 1:	value = (BYTE)va_arg( ap, BYTE );		break;
 173:VS4210/Printf.c **** 				#endif
 174:VS4210/Printf.c **** 				case 2:	value = (WORD)va_arg( ap, WORD );		break;
 395              		.loc 1 174 0
 396 01a0 D8F80040 		ldr	r4, [r8]
 397              	.LVL75:
 398 01a4 08F10408 		add	r8, r8, #4
 399              	.LVL76:
 400 01a8 03E0     		b	.L35
 401              	.L37:
 175:VS4210/Printf.c **** 				case 4:	value = (DWORD)va_arg( ap, DWORD );		break;
 402              		.loc 1 175 0
 403 01aa D8F80040 		ldr	r4, [r8]
 404              	.LVL77:
 405 01ae 08F10408 		add	r8, r8, #4
 406              	.LVL78:
 407              	.L35:
 176:VS4210/Printf.c **** 				}
 177:VS4210/Printf.c **** 
 178:VS4210/Printf.c **** 				if(cnt==0) cnt = fl_len*2;
 408              		.loc 1 178 0
 409 01b2 05B9     		cbnz	r5, .L39
 410              		.loc 1 178 0 is_stmt 0 discriminator 1
 411 01b4 4D00     		lsls	r5, r1, #1
 412              	.LVL79:
 413              	.L39:
 179:VS4210/Printf.c **** 
 180:VS4210/Printf.c **** 				for(i=0; i<cnt; i++) {
 414              		.loc 1 180 0 is_stmt 1
 415 01b6 0026     		movs	r6, #0
 416 01b8 0CE0     		b	.L40
 417              	.LVL80:
 418              	.L41:
 181:VS4210/Printf.c **** 					_outchar( Hex[(value >> (cnt-i-1)*4) & 0x000f] );
 419              		.loc 1 181 0 discriminator 3
 420 01ba AB1B     		subs	r3, r5, r6
 421 01bc 013B     		subs	r3, r3, #1
 422 01be 9B00     		lsls	r3, r3, #2
 423 01c0 44FA03F3 		asr	r3, r4, r3
 424 01c4 03F00F03 		and	r3, r3, #15
 425 01c8 124A     		ldr	r2, .L51+4
 426 01ca D05C     		ldrb	r0, [r2, r3]	@ zero_extendqisi2
 427 01cc FFF7FEFF 		bl	RS_tx
 428              	.LVL81:
 180:VS4210/Printf.c **** 					_outchar( Hex[(value >> (cnt-i-1)*4) & 0x000f] );
 429              		.loc 1 180 0 discriminator 3
 430 01d0 0136     		adds	r6, r6, #1
 431              	.LVL82:
 432 01d2 F6B2     		uxtb	r6, r6
 433              	.LVL83:
 434              	.L40:
 180:VS4210/Printf.c **** 					_outchar( Hex[(value >> (cnt-i-1)*4) & 0x000f] );
 435              		.loc 1 180 0 is_stmt 0 discriminator 1
 436 01d4 AE42     		cmp	r6, r5
ARM GAS  /tmp/ccCGEGdj.s 			page 12


 437 01d6 F0D3     		bcc	.L41
 438 01d8 17E7     		b	.L2
 439              	.LVL84:
 440              	.L19:
 182:VS4210/Printf.c **** 				}
 183:VS4210/Printf.c **** 				continue;
 184:VS4210/Printf.c **** 
 185:VS4210/Printf.c **** 			case 's':
 186:VS4210/Printf.c **** 
 187:VS4210/Printf.c **** 				#ifdef TASKINGC
 188:VS4210/Printf.c **** 				
 189:VS4210/Printf.c **** 				value = (WORD)va_arg( ap, WORD );
 190:VS4210/Printf.c **** 				while(*(char CODE_P *)value!='\0')
 191:VS4210/Printf.c **** 					_outchar(*(char CODE_P *)value++);
 192:VS4210/Printf.c **** 				continue;
 193:VS4210/Printf.c **** 
 194:VS4210/Printf.c **** 				#elif defined KEILC
 195:VS4210/Printf.c **** 				
 196:VS4210/Printf.c **** 				ptr = (char *)va_arg( ap, char* );
 441              		.loc 1 196 0 is_stmt 1
 442 01da D8F80050 		ldr	r5, [r8]
 443              	.LVL85:
 444 01de 08F10408 		add	r8, r8, #4
 445              	.LVL86:
 197:VS4210/Printf.c **** 				while(*ptr!='\0')
 446              		.loc 1 197 0
 447 01e2 02E0     		b	.L42
 448              	.LVL87:
 449              	.L43:
 198:VS4210/Printf.c **** 					_outchar(*ptr++);
 450              		.loc 1 198 0
 451 01e4 0135     		adds	r5, r5, #1
 452              	.LVL88:
 453 01e6 FFF7FEFF 		bl	RS_tx
 454              	.LVL89:
 455              	.L42:
 197:VS4210/Printf.c **** 				while(*ptr!='\0')
 456              		.loc 1 197 0
 457 01ea 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
 458 01ec 0028     		cmp	r0, #0
 459 01ee F9D1     		bne	.L43
 460 01f0 0BE7     		b	.L2
 461              	.LVL90:
 462              	.L17:
 199:VS4210/Printf.c **** 				continue;
 200:VS4210/Printf.c **** 
 201:VS4210/Printf.c **** 				#endif
 202:VS4210/Printf.c **** 
 203:VS4210/Printf.c **** 
 204:VS4210/Printf.c **** 			case 'c':
 205:VS4210/Printf.c **** 				value = va_arg( ap, int );
 463              		.loc 1 205 0
 464 01f2 D8F80040 		ldr	r4, [r8]
 465              	.LVL91:
 466 01f6 08F10408 		add	r8, r8, #4
 467              	.LVL92:
 206:VS4210/Printf.c **** 					_outchar((BYTE)value);
ARM GAS  /tmp/ccCGEGdj.s 			page 13


 468              		.loc 1 206 0
 469 01fa E0B2     		uxtb	r0, r4
 470 01fc FFF7FEFF 		bl	RS_tx
 471              	.LVL93:
 207:VS4210/Printf.c **** 				continue;
 472              		.loc 1 207 0
 473 0200 03E7     		b	.L2
 474              	.LVL94:
 475              	.L14:
 208:VS4210/Printf.c **** 
 209:VS4210/Printf.c **** 			default:
 210:VS4210/Printf.c **** 				value = (WORD)va_arg( ap, int );
 476              		.loc 1 210 0
 477 0202 D8F80040 		ldr	r4, [r8]
 478              	.LVL95:
 479 0206 08F10408 		add	r8, r8, #4
 480              	.LVL96:
 211:VS4210/Printf.c **** 				continue;
 481              		.loc 1 211 0
 482 020a FEE6     		b	.L2
 483              	.LVL97:
 484              	.L1:
 485 020c BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 486              	.LVL98:
 487              	.L52:
 488              		.align	2
 489              	.L51:
 490 0210 CDCCCCCC 		.word	-858993459
 491 0214 00000000 		.word	.LANCHOR0
 492              		.cfi_endproc
 493              	.LFE0:
 495              		.section	.text.Printf,"ax",%progbits
 496              		.align	2
 497              		.global	Printf
 498              		.thumb
 499              		.thumb_func
 501              	Printf:
 502              	.LFB1:
 212:VS4210/Printf.c **** 		}
 213:VS4210/Printf.c **** 	}
 214:VS4210/Printf.c **** }
 215:VS4210/Printf.c **** 
 216:VS4210/Printf.c **** //===========================================================================//
 217:VS4210/Printf.c **** //                                                                           //
 218:VS4210/Printf.c **** //===========================================================================//
 219:VS4210/Printf.c **** //va_list ap;
 220:VS4210/Printf.c **** 
 221:VS4210/Printf.c **** void Printf( const char CODE_P *fmt, ... )
 222:VS4210/Printf.c **** {
 503              		.loc 1 222 0
 504              		.cfi_startproc
 505              		@ args = 4, pretend = 16, frame = 8
 506              		@ frame_needed = 0, uses_anonymous_args = 1
 507              	.LVL99:
 508 0000 0FB4     		push	{r0, r1, r2, r3}
 509              	.LCFI1:
 510              		.cfi_def_cfa_offset 16
ARM GAS  /tmp/ccCGEGdj.s 			page 14


 511              		.cfi_offset 0, -16
 512              		.cfi_offset 1, -12
 513              		.cfi_offset 2, -8
 514              		.cfi_offset 3, -4
 515 0002 00B5     		push	{lr}
 516              	.LCFI2:
 517              		.cfi_def_cfa_offset 20
 518              		.cfi_offset 14, -20
 519 0004 83B0     		sub	sp, sp, #12
 520              	.LCFI3:
 521              		.cfi_def_cfa_offset 32
 522 0006 04A9     		add	r1, sp, #16
 523 0008 51F8040B 		ldr	r0, [r1], #4
 223:VS4210/Printf.c **** 	va_list ap;
 224:VS4210/Printf.c **** 
 225:VS4210/Printf.c **** 	va_start(ap, fmt);
 524              		.loc 1 225 0
 525 000c 0191     		str	r1, [sp, #4]
 226:VS4210/Printf.c **** 	DoPrint( fmt, ap );
 526              		.loc 1 226 0
 527 000e FFF7FEFF 		bl	DoPrint
 528              	.LVL100:
 227:VS4210/Printf.c **** 	va_end( ap );
 228:VS4210/Printf.c **** }
 529              		.loc 1 228 0
 530 0012 03B0     		add	sp, sp, #12
 531              	.LCFI4:
 532              		.cfi_def_cfa_offset 20
 533              		@ sp needed
 534 0014 5DF804EB 		ldr	lr, [sp], #4
 535              	.LCFI5:
 536              		.cfi_restore 14
 537              		.cfi_def_cfa_offset 16
 538 0018 04B0     		add	sp, sp, #16
 539              	.LCFI6:
 540              		.cfi_restore 3
 541              		.cfi_restore 2
 542              		.cfi_restore 1
 543              		.cfi_restore 0
 544              		.cfi_def_cfa_offset 0
 545 001a 7047     		bx	lr
 546              		.cfi_endproc
 547              	.LFE1:
 549              		.section	.text.DEBUG_MESSAGE,"ax",%progbits
 550              		.align	2
 551              		.global	DEBUG_MESSAGE
 552              		.thumb
 553              		.thumb_func
 555              	DEBUG_MESSAGE:
 556              	.LFB2:
 229:VS4210/Printf.c **** 
 230:VS4210/Printf.c **** void DEBUG_MESSAGE( const char CODE_P *fmt, ... )
 231:VS4210/Printf.c **** {
 557              		.loc 1 231 0
 558              		.cfi_startproc
 559              		@ args = 4, pretend = 16, frame = 8
 560              		@ frame_needed = 0, uses_anonymous_args = 1
ARM GAS  /tmp/ccCGEGdj.s 			page 15


 561              	.LVL101:
 562 0000 0FB4     		push	{r0, r1, r2, r3}
 563              	.LCFI7:
 564              		.cfi_def_cfa_offset 16
 565              		.cfi_offset 0, -16
 566              		.cfi_offset 1, -12
 567              		.cfi_offset 2, -8
 568              		.cfi_offset 3, -4
 569 0002 00B5     		push	{lr}
 570              	.LCFI8:
 571              		.cfi_def_cfa_offset 20
 572              		.cfi_offset 14, -20
 573 0004 83B0     		sub	sp, sp, #12
 574              	.LCFI9:
 575              		.cfi_def_cfa_offset 32
 576 0006 04A9     		add	r1, sp, #16
 577 0008 51F8040B 		ldr	r0, [r1], #4
 232:VS4210/Printf.c **** 	va_list ap;
 233:VS4210/Printf.c **** 	va_start(ap, fmt);
 578              		.loc 1 233 0
 579 000c 0191     		str	r1, [sp, #4]
 234:VS4210/Printf.c **** #ifdef HS_DEBUG
 235:VS4210/Printf.c **** 	DoPrint( fmt, ap );
 580              		.loc 1 235 0
 581 000e FFF7FEFF 		bl	DoPrint
 582              	.LVL102:
 236:VS4210/Printf.c **** #endif
 237:VS4210/Printf.c **** 	va_end( ap );
 238:VS4210/Printf.c **** 
 239:VS4210/Printf.c **** }
 583              		.loc 1 239 0
 584 0012 03B0     		add	sp, sp, #12
 585              	.LCFI10:
 586              		.cfi_def_cfa_offset 20
 587              		@ sp needed
 588 0014 5DF804EB 		ldr	lr, [sp], #4
 589              	.LCFI11:
 590              		.cfi_restore 14
 591              		.cfi_def_cfa_offset 16
 592 0018 04B0     		add	sp, sp, #16
 593              	.LCFI12:
 594              		.cfi_restore 3
 595              		.cfi_restore 2
 596              		.cfi_restore 1
 597              		.cfi_restore 0
 598              		.cfi_def_cfa_offset 0
 599 001a 7047     		bx	lr
 600              		.cfi_endproc
 601              	.LFE2:
 603              		.section	.text.Puts,"ax",%progbits
 604              		.align	2
 605              		.global	Puts
 606              		.thumb
 607              		.thumb_func
 609              	Puts:
 610              	.LFB3:
 240:VS4210/Printf.c **** 
ARM GAS  /tmp/ccCGEGdj.s 			page 16


 241:VS4210/Printf.c **** void Puts( CODE_P char *ptr )
 242:VS4210/Printf.c **** {
 611              		.loc 1 242 0
 612              		.cfi_startproc
 613              		@ args = 0, pretend = 0, frame = 0
 614              		@ frame_needed = 0, uses_anonymous_args = 0
 615              	.LVL103:
 616 0000 10B5     		push	{r4, lr}
 617              	.LCFI13:
 618              		.cfi_def_cfa_offset 8
 619              		.cfi_offset 4, -8
 620              		.cfi_offset 14, -4
 621 0002 0446     		mov	r4, r0
 243:VS4210/Printf.c **** 	while(*ptr!='\0')
 622              		.loc 1 243 0
 623 0004 02E0     		b	.L58
 624              	.LVL104:
 625              	.L59:
 244:VS4210/Printf.c **** 		RS_tx(*ptr++);
 626              		.loc 1 244 0
 627 0006 0134     		adds	r4, r4, #1
 628              	.LVL105:
 629 0008 FFF7FEFF 		bl	RS_tx
 630              	.LVL106:
 631              	.L58:
 243:VS4210/Printf.c **** 	while(*ptr!='\0')
 632              		.loc 1 243 0
 633 000c 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 634 000e 0028     		cmp	r0, #0
 635 0010 F9D1     		bne	.L59
 245:VS4210/Printf.c **** }
 636              		.loc 1 245 0
 637 0012 10BD     		pop	{r4, pc}
 638              		.cfi_endproc
 639              	.LFE3:
 641              		.section	.text.GraphicsPrint,"ax",%progbits
 642              		.align	2
 643              		.global	GraphicsPrint
 644              		.thumb
 645              		.thumb_func
 647              	GraphicsPrint:
 648              	.LFB4:
 246:VS4210/Printf.c **** 
 247:VS4210/Printf.c **** 
 248:VS4210/Printf.c **** //===========================================================================//
 249:VS4210/Printf.c **** //                                                                           //
 250:VS4210/Printf.c **** //===========================================================================//
 251:VS4210/Printf.c **** #ifdef DEBUG
 252:VS4210/Printf.c **** 
 253:VS4210/Printf.c **** void dPrintf( const char CODE_P *fmt, ... )
 254:VS4210/Printf.c **** {
 255:VS4210/Printf.c **** 	va_list ap;
 256:VS4210/Printf.c **** 
 257:VS4210/Printf.c **** 	if( DebugLevel >= DEBUG_INFO ) {
 258:VS4210/Printf.c **** 		va_start(ap, fmt);
 259:VS4210/Printf.c **** 		DoPrint( fmt, ap );
 260:VS4210/Printf.c **** 		va_end( ap );
ARM GAS  /tmp/ccCGEGdj.s 			page 17


 261:VS4210/Printf.c **** 	}
 262:VS4210/Printf.c **** }
 263:VS4210/Printf.c **** /*
 264:VS4210/Printf.c **** void wPrintf( const char CODE_P *fmt, ... )
 265:VS4210/Printf.c **** {
 266:VS4210/Printf.c **** 	va_list ap;
 267:VS4210/Printf.c **** 
 268:VS4210/Printf.c **** 	if( DebugLevel >= DEBUG_WARN ) {
 269:VS4210/Printf.c **** 		va_start(ap, fmt);
 270:VS4210/Printf.c **** 		DoPrint( fmt, ap );
 271:VS4210/Printf.c **** 		va_end( ap );
 272:VS4210/Printf.c **** 	}
 273:VS4210/Printf.c **** }
 274:VS4210/Printf.c **** */
 275:VS4210/Printf.c **** 
 276:VS4210/Printf.c **** /*
 277:VS4210/Printf.c **** 
 278:VS4210/Printf.c **** void ePrintf( const char CODE_P *fmt, ... )
 279:VS4210/Printf.c **** {
 280:VS4210/Printf.c **** 	va_list ap;
 281:VS4210/Printf.c **** 
 282:VS4210/Printf.c **** 	if( DebugLevel >= DEBUG_ERR ) {
 283:VS4210/Printf.c **** 		va_start(ap, fmt);
 284:VS4210/Printf.c **** 		DoPrint( fmt, ap );
 285:VS4210/Printf.c **** 		va_end( ap );
 286:VS4210/Printf.c **** 	}
 287:VS4210/Printf.c **** }
 288:VS4210/Printf.c **** */
 289:VS4210/Printf.c **** //===========================================================================//
 290:VS4210/Printf.c **** //                                                                           //
 291:VS4210/Printf.c **** //===========================================================================//
 292:VS4210/Printf.c **** void dPuts( CODE_P char *ptr )
 293:VS4210/Printf.c **** {
 294:VS4210/Printf.c **** 	if( DebugLevel >= DEBUG_INFO ) {
 295:VS4210/Printf.c **** 		while(*ptr!='\0')
 296:VS4210/Printf.c **** 			RS_tx(*ptr++);
 297:VS4210/Printf.c **** 	}
 298:VS4210/Printf.c **** }
 299:VS4210/Printf.c **** 
 300:VS4210/Printf.c **** #if defined( SUPPORT_PC ) || defined( SUPPORT_DTV ) || defined( DEBUG_SETPANEL)
 301:VS4210/Printf.c **** void wPuts( CODE_P char *ptr )
 302:VS4210/Printf.c **** {
 303:VS4210/Printf.c **** 	if( DebugLevel >= DEBUG_WARN ) {
 304:VS4210/Printf.c **** 		while(*ptr!='\0')
 305:VS4210/Printf.c **** 			RS_tx(*ptr++);
 306:VS4210/Printf.c **** 	}
 307:VS4210/Printf.c **** }
 308:VS4210/Printf.c **** 
 309:VS4210/Printf.c **** void ePuts( CODE_P char *ptr )
 310:VS4210/Printf.c **** {
 311:VS4210/Printf.c **** 	if( DebugLevel >= DEBUG_ERR ) {
 312:VS4210/Printf.c **** 		while(*ptr!='\0')
 313:VS4210/Printf.c **** 			RS_tx(*ptr++);
 314:VS4210/Printf.c **** 	}
 315:VS4210/Printf.c **** }
 316:VS4210/Printf.c **** #endif
 317:VS4210/Printf.c **** 
ARM GAS  /tmp/ccCGEGdj.s 			page 18


 318:VS4210/Printf.c **** #endif // DEBUG
 319:VS4210/Printf.c **** 
 320:VS4210/Printf.c **** //===========================================================================//
 321:VS4210/Printf.c **** //                                                                          GraphicsPrint
 322:VS4210/Printf.c **** //===========================================================================//
 323:VS4210/Printf.c **** 
 324:VS4210/Printf.c **** void GraphicsPrint(PRINT_COLOR_e mode, const char *Message, ...)
 325:VS4210/Printf.c **** {
 649              		.loc 1 325 0
 650              		.cfi_startproc
 651              		@ args = 4, pretend = 12, frame = 8
 652              		@ frame_needed = 0, uses_anonymous_args = 1
 653              	.LVL107:
 654 0000 0EB4     		push	{r1, r2, r3}
 655              	.LCFI14:
 656              		.cfi_def_cfa_offset 12
 657              		.cfi_offset 1, -12
 658              		.cfi_offset 2, -8
 659              		.cfi_offset 3, -4
 660 0002 00B5     		push	{lr}
 661              	.LCFI15:
 662              		.cfi_def_cfa_offset 16
 663              		.cfi_offset 14, -16
 664 0004 82B0     		sub	sp, sp, #8
 665              	.LCFI16:
 666              		.cfi_def_cfa_offset 24
 326:VS4210/Printf.c **** 		#if (_DEBUG_MESSAGE_COLOR_MESSAGE==ON)
 327:VS4210/Printf.c **** 
 328:VS4210/Printf.c **** 		va_list ap;
 329:VS4210/Printf.c **** 
 330:VS4210/Printf.c **** 		#if (_DEBUG_MESSAGE_Monitor==ON)
 331:VS4210/Printf.c **** 		if( Monitor_flag==_TRUE)
 667              		.loc 1 331 0
 668 0006 0B4B     		ldr	r3, .L64
 669 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 670 000a 012B     		cmp	r3, #1
 671 000c 0CD0     		beq	.L61
 332:VS4210/Printf.c **** 		;
 333:VS4210/Printf.c **** 		else
 334:VS4210/Printf.c **** 		#endif			
 335:VS4210/Printf.c **** 			{
 336:VS4210/Printf.c **** 
 337:VS4210/Printf.c **** 		DEBUG_MESSAGE( _PrintColor[mode]);
 672              		.loc 1 337 0
 673 000e 0A4B     		ldr	r3, .L64+4
 674 0010 53F82000 		ldr	r0, [r3, r0, lsl #2]
 675              	.LVL108:
 676 0014 FFF7FEFF 		bl	DEBUG_MESSAGE
 677              	.LVL109:
 338:VS4210/Printf.c **** 		va_start(ap, Message);
 678              		.loc 1 338 0
 679 0018 04A9     		add	r1, sp, #16
 680 001a 0191     		str	r1, [sp, #4]
 339:VS4210/Printf.c **** 		DoPrint( Message, ap );
 681              		.loc 1 339 0
 682 001c 0398     		ldr	r0, [sp, #12]
 683 001e FFF7FEFF 		bl	DoPrint
ARM GAS  /tmp/ccCGEGdj.s 			page 19


 684              	.LVL110:
 340:VS4210/Printf.c **** 		va_end( ap );
 341:VS4210/Printf.c **** 		DEBUG_MESSAGE( _PrintColor[PRINT_COLOR_BLACK]);
 685              		.loc 1 341 0
 686 0022 0648     		ldr	r0, .L64+8
 687 0024 FFF7FEFF 		bl	DEBUG_MESSAGE
 688              	.LVL111:
 689              	.L61:
 342:VS4210/Printf.c **** 			}
 343:VS4210/Printf.c **** 		#else
 344:VS4210/Printf.c **** 			va_list ap;
 345:VS4210/Printf.c **** 			va_start(ap, Message);
 346:VS4210/Printf.c **** 			DoPrint( Message, ap );
 347:VS4210/Printf.c **** 			va_end( ap );
 348:VS4210/Printf.c **** 			mode=1;
 349:VS4210/Printf.c **** 			
 350:VS4210/Printf.c **** 		#endif
 351:VS4210/Printf.c **** }
 690              		.loc 1 351 0
 691 0028 02B0     		add	sp, sp, #8
 692              	.LCFI17:
 693              		.cfi_def_cfa_offset 16
 694              		@ sp needed
 695 002a 5DF804EB 		ldr	lr, [sp], #4
 696              	.LCFI18:
 697              		.cfi_restore 14
 698              		.cfi_def_cfa_offset 12
 699 002e 03B0     		add	sp, sp, #12
 700              	.LCFI19:
 701              		.cfi_restore 3
 702              		.cfi_restore 2
 703              		.cfi_restore 1
 704              		.cfi_def_cfa_offset 0
 705 0030 7047     		bx	lr
 706              	.L65:
 707 0032 00BF     		.align	2
 708              	.L64:
 709 0034 00000000 		.word	Monitor_flag
 710 0038 00000000 		.word	.LANCHOR1
 711 003c 00000000 		.word	.LC0
 712              		.cfi_endproc
 713              	.LFE4:
 715              		.global	Hex
 716              		.comm	newInRes,4,4
 717              		.section	.rodata._PrintColor,"a",%progbits
 718              		.align	2
 719              		.set	.LANCHOR1,. + 0
 722              	_PrintColor:
 723 0000 00000000 		.word	.LC0
 724 0004 08000000 		.word	.LC1
 725 0008 10000000 		.word	.LC2
 726 000c 18000000 		.word	.LC3
 727 0010 20000000 		.word	.LC4
 728 0014 28000000 		.word	.LC5
 729 0018 30000000 		.word	.LC6
 730 001c 38000000 		.word	.LC7
 731              		.section	.data.Hex,"aw",%progbits
ARM GAS  /tmp/ccCGEGdj.s 			page 20


 732              		.align	2
 733              		.set	.LANCHOR0,. + 0
 736              	Hex:
 737 0000 30313233 		.ascii	"0123456789ABCDEF\000"
 737      34353637 
 737      38394142 
 737      43444546 
 737      00
 738              		.section	.rodata.str1.4,"aMS",%progbits,1
 739              		.align	2
 740              	.LC0:
 741 0000 1B5B306D 		.ascii	"\033[0m\000"
 741      00
 742 0005 000000   		.space	3
 743              	.LC1:
 744 0008 1B5B303B 		.ascii	"\033[0;31m\000"
 744      33316D00 
 745              	.LC2:
 746 0010 1B5B303B 		.ascii	"\033[0;32m\000"
 746      33326D00 
 747              	.LC3:
 748 0018 1B5B303B 		.ascii	"\033[0;33m\000"
 748      33336D00 
 749              	.LC4:
 750 0020 1B5B303B 		.ascii	"\033[0;34m\000"
 750      33346D00 
 751              	.LC5:
 752 0028 1B5B303B 		.ascii	"\033[0;35m\000"
 752      33356D00 
 753              	.LC6:
 754 0030 1B5B303B 		.ascii	"\033[0;36m\000"
 754      33366D00 
 755              	.LC7:
 756 0038 1B5B303B 		.ascii	"\033[0;37m\000"
 756      33376D00 
 757              		.text
 758              	.Letext0:
 759              		.file 2 "/usr/lib/gcc/arm-none-eabi/4.9.3/include/stdarg.h"
 760              		.file 3 "VS4210/VXIS_Extern_Define.h"
 761              		.file 4 "VS4210/printf.h"
 762              		.file 5 "TP2824/tpinc/TP2802.h"
 763              		.file 6 "<built-in>"
ARM GAS  /tmp/ccCGEGdj.s 			page 21


DEFINED SYMBOLS
                            *ABS*:0000000000000000 Printf.c
     /tmp/ccCGEGdj.s:19     .text.DoPrint:0000000000000000 $t
     /tmp/ccCGEGdj.s:24     .text.DoPrint:0000000000000000 DoPrint
     /tmp/ccCGEGdj.s:167    .text.DoPrint:000000000000008c $d
     /tmp/ccCGEGdj.s:490    .text.DoPrint:0000000000000210 $d
     /tmp/ccCGEGdj.s:496    .text.Printf:0000000000000000 $t
     /tmp/ccCGEGdj.s:501    .text.Printf:0000000000000000 Printf
     /tmp/ccCGEGdj.s:550    .text.DEBUG_MESSAGE:0000000000000000 $t
     /tmp/ccCGEGdj.s:555    .text.DEBUG_MESSAGE:0000000000000000 DEBUG_MESSAGE
     /tmp/ccCGEGdj.s:604    .text.Puts:0000000000000000 $t
     /tmp/ccCGEGdj.s:609    .text.Puts:0000000000000000 Puts
     /tmp/ccCGEGdj.s:642    .text.GraphicsPrint:0000000000000000 $t
     /tmp/ccCGEGdj.s:647    .text.GraphicsPrint:0000000000000000 GraphicsPrint
     /tmp/ccCGEGdj.s:709    .text.GraphicsPrint:0000000000000034 $d
     /tmp/ccCGEGdj.s:736    .data.Hex:0000000000000000 Hex
                            *COM*:0000000000000004 newInRes
     /tmp/ccCGEGdj.s:718    .rodata._PrintColor:0000000000000000 $d
     /tmp/ccCGEGdj.s:722    .rodata._PrintColor:0000000000000000 _PrintColor
     /tmp/ccCGEGdj.s:732    .data.Hex:0000000000000000 $d
     /tmp/ccCGEGdj.s:739    .rodata.str1.4:0000000000000000 $d
                     .debug_frame:0000000000000010 $d
     /tmp/ccCGEGdj.s:200    .text.DoPrint:00000000000000ad $d
     /tmp/ccCGEGdj.s:200    .text.DoPrint:00000000000000ae $t

UNDEFINED SYMBOLS
RS_tx
Monitor_flag
